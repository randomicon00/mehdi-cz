---
title: "Building Smart Git Commit Messages with AI"
date: "2025-09-16"
tags: ["ai", "git", "automation", "productivity"]
draft: true
summary: "Generate meaningful commit messages automatically using AI to analyze your code changes."
---

Never write boring commit messages again. Use AI to analyze your git diff and generate descriptive, conventional commits.

## AI Commit Message Generator

```python
import openai
import subprocess
import sys

def get_staged_diff():
    result = subprocess.run(['git', 'diff', '--cached'],
                          capture_output=True, text=True)
    return result.stdout

def generate_commit_message(diff):
    prompt = f"""
    Analyze this git diff and generate a concise, descriptive commit message.
    Follow conventional commits format: type(scope): description

    Types: feat, fix, docs, style, refactor, test, chore

    Diff:
    {diff}

    Generate only the commit message, no explanation.
    """

    response = openai.ChatCompletion.create(
        model="gpt-4",
        messages=[{"role": "user", "content": prompt}],
        max_tokens=100
    )

    return response.choices[0].message.content.strip()

def main():
    diff = get_staged_diff()
    if not diff:
        print("No staged changes found")
        return

    message = generate_commit_message(diff)
    print(f"Suggested commit message: {message}")

    if input("Use this message? (y/n): ").lower() == 'y':
        subprocess.run(['git', 'commit', '-m', message])

if __name__ == "__main__":
    main()
```

## Git Alias Setup

```bash
# Add to ~/.gitconfig
[alias]
    ai-commit = "!python ~/scripts/ai-commit.py"

# Usage
git add .
git ai-commit
```

**Pro tip:** Train the AI on your project's commit style by including examples in the prompt.

## Why this matters

- Good commits tell a story; AI keeps the narrative clear for future you.
- Better messages improve code review and blame archaeology.
- Release notes practically write themselves from quality commits.

## How to use this today

- Generate a draft message from the diff; edit for accuracy and intent.
- Include the “why” and the risk/rollback note for non-trivial changes.
- Keep scope tight: one change, one commit.

## Common pitfalls

- Generic messages: tie to issues and user impact.
- Mixing refactors and features: split the commit.
- Overlong essays: summary line first, then details.

## What to try next

- Enforce conventional commits with AI suggestions in the CLI.
- Auto-create PR descriptions from commits and templates.
- Generate changelogs grouped by user-facing impact.
