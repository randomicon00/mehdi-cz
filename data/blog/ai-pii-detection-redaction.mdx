---
title: "AI-Assisted PII Detection and Redaction"
date: "2025-09-16"
tags: ["ai", "privacy", "security", "pii"]
draft: true
summary: "Detect and redact sensitive data (PII) in logs and datasets with lightweight, automatable checks."
---

Shipping logs and datasets without PII is table stakes. Automate detection and redaction early.

## Minimal Python with Presidio

```python
# pip install presidio-analyzer presidio-anonymizer spacy
# python -m spacy download en_core_web_lg
from presidio_analyzer import AnalyzerEngine
from presidio_anonymizer import AnonymizerEngine

text = "Contact Jane Doe at jane.doe@acme.io or +1-415-555-0199"

analyzer = AnalyzerEngine()
results = analyzer.analyze(text=text, language="en")

anonymizer = AnonymizerEngine()
redacted = anonymizer.anonymize_text(text=text, analyzer_results=results)
print(redacted.text)  # Contact <EMAIL_ADDRESS> or <PHONE_NUMBER>
```

## CI gate (pseudo)

```yaml
# .github/workflows/pii-scan.yml
on: [push]
jobs:
  scan:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with: { python-version: "3.11" }
      - run: pip install presidio-analyzer presidio-anonymizer spacy && python -m spacy download en_core_web_lg
      - run: python scripts/pii_scan.py data/logs/*.log || (echo "PII found" && exit 1)
```

## Why this matters

- Prevent data leaks and compliance violations.
- Keep prod logs safe to share during incidents.

## How to use this today

- Add a nightly PII scan on new datasets and build artifacts.
- Maintain an allowlist for safe patterns (e.g., test emails) to reduce noise.
- Route violations to security for quick triage.

## Common pitfalls

- Over-sanitizing breaks debugging; keep raw copies in restricted, encrypted storage with strict access.
- Language/model coverage gaps; add domain recognizers for custom IDs.
- Ignoring binaries and screenshots; scan attachments where feasible.

## What to try next

- Add real-time redaction middleware at log emission.
- Track PII incident metrics to drive fixes upstream.
- Pair with DLP at your storage boundary for defense-in-depth.
