---
title: "Today I Learnt: Use flock for atomic file locking"
date: "2025-09-16"
tags: ["bash", "til"]
draft: false
summary: "Use flock to prevent concurrent script runs from clobbering files."
---

Acquire exclusive lock on a file and run a command:

```bash
flock -n /var/lock/my.lock -c 'do_critical_work'
```
